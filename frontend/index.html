<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alabama Lost & Found</title>
    <link rel="stylesheet" href="resources/styles/index.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- Landing Page -->
    <div id="landing-page" class="landing-page">
        <div class="landing-container">
            <div class="landing-header">
                <h1><i class="fas fa-search"></i>Crimson Lost & Found</h1>
                <p class="landing-subtitle">Helping Crimson Tide students find their lost items</p>
            </div>
            
            <div class="auth-buttons">
                <button id="student-signin-btn" class="auth-btn student-btn">
                    <i class="fas fa-user-graduate"></i>
                    <span>Sign in as Student</span>
                </button>
                <button id="admin-signin-btn" class="auth-btn admin-btn">
                    <i class="fas fa-user-shield"></i>
                    <span>Sign in as Admin</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Student Login Page -->
    <div id="student-login-page" class="auth-page" style="display: none;">
        <div class="auth-container">
            <div class="auth-header">
                <h2><i class="fas fa-user-graduate"></i>Student Login</h2>
                <p>Access your account to view and claim lost items</p>
            </div>
            
            <form id="student-login-form" class="auth-form">
                <div class="form-group">
                    <label for="student-email">Email</label>
                    <input type="email" id="student-email" name="email" required>
                </div>
                
                <div class="form-group">
                    <label for="student-password">Password</label>
                    <input type="password" id="student-password" name="password" required>
                </div>
                
                <button type="submit" class="submit-btn">
                    <i class="fas fa-sign-in-alt"></i> Sign In
                </button>
            </form>
            
            <div class="auth-footer">
                <p>Don't have an account? <a href="#" id="show-register">Register here</a></p>
                <button class="back-btn" onclick="showLandingPage()">
                    <i class="fas fa-arrow-left"></i> Back
                </button>
            </div>
        </div>
    </div>

    <!-- Student Register Page -->
    <div id="student-register-page" class="auth-page" style="display: none;">
        <div class="auth-container">
            <div class="auth-header">
                <h2><i class="fas fa-user-plus"></i>Student Registration</h2>
                <p>Create an account to access the Lost & Found system</p>
            </div>
            
            <form id="student-register-form" class="auth-form">
                <div class="form-group">
                    <label for="register-name">Full Name</label>
                    <input type="text" id="register-name" name="name" required>
                </div>
                
                <div class="form-group">
                    <label for="register-email">Email</label>
                    <input type="email" id="register-email" name="email" required>
                </div>
                
                <div class="form-group">
                    <label for="register-password">Password</label>
                    <input type="password" id="register-password" name="password" required>
                </div>
                
                <div class="form-group">
                    <label for="register-confirm-password">Confirm Password</label>
                    <input type="password" id="register-confirm-password" name="confirmPassword" required>
                </div>
                
                <button type="submit" class="submit-btn">
                    <i class="fas fa-user-plus"></i> Create Account
                </button>
            </form>
            
            <div class="auth-footer">
                <p>Already have an account? <a href="#" id="show-login">Sign in here</a></p>
                <button class="back-btn" onclick="showLandingPage()">
                    <i class="fas fa-arrow-left"></i> Back
                </button>
            </div>
        </div>
    </div>

    <!-- Admin Login Page -->
    <div id="admin-login-page" class="auth-page" style="display: none;">
        <div class="auth-container">
            <div class="auth-header">
                <h2><i class="fas fa-user-shield"></i>Admin Login</h2>
                <p>Administrator access to manage lost and found items</p>
            </div>
            
            <form id="admin-login-form" class="auth-form">
                <div class="form-group">
                    <label for="admin-password">Admin Password</label>
                    <input type="password" id="admin-password" name="password" required placeholder="Enter admin password">
                </div>
                
                <button type="submit" class="submit-btn">
                    <i class="fas fa-sign-in-alt"></i> Sign In as Admin
                </button>
            </form>
            
            <div class="auth-footer">
                <button class="back-btn" onclick="showLandingPage()">
                    <i class="fas fa-arrow-left"></i> Back
                </button>
            </div>
        </div>
    </div>

    <!-- Main Application (hidden until authenticated) -->
    <div id="main-app" style="display: none;">
        <header class="header">
            <div class="container">
                <h1><i class="fas fa-search"></i>Crimson Lost & Found</h1>
                <p class="header-subtitle">Helping Crimson Tide students find their lost items</p>
                <nav class="nav">
                    <button class="nav-btn active" data-section="found">Found Items</button>
                    <button class="nav-btn" data-section="claim">Submit Claim</button>
                    <button class="logout-btn" onclick="logout()">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </button>
                </nav>
            </div>
        </header>

        <main class="main">
            <div class="container">
            <!-- Found Items Section -->
            <section id="found-section" class="section active">
                <div class="section-header">
                    <h2><i class="fas fa-box"></i> Found Items</h2>
                    <div class="filters">
                        <select id="building-filter" class="filter-select">
                            <option value="">All Buildings</option>
                            <option value="Bruno">Bruno</option>
                            <option value="Bidgood">Bidgood</option>
                            <option value="Hewson">Hewson</option>
                            <option value="Alston">Alston</option>
                            <option value="North Lawn">North Lawn</option>
                        </select>
                        <input type="text" id="search-items" class="search-input" placeholder="Search items...">
                    </div>
                </div>
                
                <div id="found-items-grid" class="items-grid">
                    <!-- Items will be dynamically loaded here -->
                </div>
                
                <div id="no-items" class="no-items" style="display: none;">
                    <i class="fas fa-inbox"></i>
                    <p>No items found matching your criteria.</p>
                </div>
            </section>

            <!-- Add Found Item Section (Admin Only) -->
            <section id="missing-section" class="section">
                <div class="section-header">
                    <h2><i class="fas fa-plus-circle"></i> Add Found Item</h2>
                    <p class="section-subtitle">Report an item that a student has turned in to the lost and found</p>
                </div>
                
                <form id="missing-item-form" class="missing-form">
                    <div class="form-group">
                        <label for="item-name">Item Name *</label>
                        <input type="text" id="item-name" name="itemName" required placeholder="e.g., iPhone, Backpack, Keys">
                    </div>
                    
                    <div class="form-group">
                        <label for="item-description">Description *</label>
                        <textarea id="item-description" name="itemDescription" rows="4" required placeholder="Describe the found item in detail (color, brand, condition, etc.)..."></textarea>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="last-seen-building">Found in Building *</label>
                            <select id="last-seen-building" name="building" required>
                                <option value="">Select Building</option>
                                <option value="Bruno">Bruno</option>
                                <option value="Hewson">Hewson</option>
                                <option value="Bidgood">Bidgood</option>
                                <option value="Alston">Alston</option>
                                <option value="North Lawn">North Lawn</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="last-seen-room">Room Number</label>
                            <input type="text" id="last-seen-room" name="room" placeholder="e.g., 201, Lab A">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="date-lost">Date Found</label>
                        <input type="date" id="date-lost" name="dateFound">
                    </div>
                    
                    <button type="submit" class="submit-btn">
                        <i class="fas fa-plus"></i> Add Found Item
                    </button>
                </form>
            </section>

            <!-- Claims Section -->
            <section id="claim-section" class="section">
                <div class="section-header">
                    <h2><i class="fas fa-ticket-alt"></i> Submit Claim</h2>
                    <p class="section-subtitle">Think you found your lost item? Submit a claim to get it back!</p>
                </div>
                <form id="claim-form" class="missing-form">
                    <div class="form-group">
                        <label for="claim-item">Item Name *</label>
                        <input type="text" id="claim-item" name="claimItem" required>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="claim-building">Last Seen Building *</label>
                            <select id="claim-building" name="claimBuilding" required>
                                <option value="">Select Building</option>
                                <option value="Bruno">Bruno</option>
                                <option value="Hewson">Hewson</option>
                                <option value="Bidgood">Bidgood</option>
                                <option value="Alston">Alston</option>
                                <option value="North Lawn">North Lawn</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="claim-room">Room Number</label>
                            <input type="text" id="claim-room" name="claimRoom" placeholder="e.g., 201, Lab A">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="claimer-name">Your Name *</label>
                            <input type="text" id="claimer-name" name="claimerName" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="claimer-email">Email *</label>
                            <input type="email" id="claimer-email" name="claimerEmail" required>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="claim-date">Date of Claim</label>
                        <input type="date" id="claim-date" name="claimDate">
                    </div>

                    <button type="submit" class="submit-btn">
                        <i class="fas fa-ticket-alt"></i> Submit Claim
                    </button>
                </form>
            </section>

            <!-- Claims Management Section (Admin Only) -->
            <section id="claims-management-section" class="section">
                <div class="section-header">
                    <h2><i class="fas fa-clipboard-list"></i> Claims Management</h2>
                    <p class="section-subtitle">Review and manage pending student claims for found items</p>
                </div>
                
                <div id="claims-list" class="claims-list">
                    <!-- Claims will be dynamically loaded here -->
                </div>
                
                <div id="no-claims" class="no-items" style="display: none;">
                    <i class="fas fa-inbox"></i>
                    <p>No pending claims submitted yet.</p>
                </div>
            </section>

            <!-- Archive Section (Admin Only) -->
            <section id="archive-section" class="section">
                <div class="section-header">
                    <h2><i class="fas fa-archive"></i> Claims Archive</h2>
                    <p class="section-subtitle">View all confirmed and processed claims</p>
                </div>
                
                <div id="archive-list" class="claims-list">
                    <!-- Archived claims will be dynamically loaded here -->
                </div>
                
                <div id="no-archive" class="no-items" style="display: none;">
                    <i class="fas fa-archive"></i>
                    <p>No archived claims yet.</p>
                </div>
            </section>

            <!-- Claim Item Page (Student Only) -->
            <section id="claim-item-section" class="section">
                <div class="section-header">
                    <h2><i class="fas fa-ticket-alt"></i> Claim Item</h2>
                    <p class="section-subtitle">Submit a claim for this found item</p>
                </div>
                
                <div class="claim-item-container">
                    <div class="item-details-card">
                        <h3>Item Details</h3>
                        <div id="claim-item-details">
                            <!-- Item details will be populated here -->
                        </div>
                    </div>
                    
                    <form id="claim-item-page-form" class="missing-form">
                        <input type="hidden" id="claim-item-page-id" name="itemId">
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="claim-page-name">Your Name *</label>
                                <input type="text" id="claim-page-name" name="claimerName" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="claim-page-email">Email *</label>
                                <input type="email" id="claim-page-email" name="claimerEmail" required>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="claim-page-building">Last Seen Building *</label>
                                <select id="claim-page-building" name="lastSeenBuilding" required>
                                    <option value="">Select Building</option>
                                    <option value="Bruno">Bruno</option>
                                    <option value="Hewson">Hewson</option>
                                    <option value="Bidgood">Bidgood</option>
                                    <option value="Alston">Alston</option>
                                    <option value="North Lawn">North Lawn</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="claim-page-room">Room Number</label>
                                <input type="text" id="claim-page-room" name="lastSeenRoom" placeholder="e.g., 201, Lab A">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="claim-page-ownership-details">Please state why this item is yours *</label>
                            <textarea id="claim-page-ownership-details" name="ownershipDetails" rows="4" required placeholder="Please describe as much as details of the item that aren't visible or described, so the finder can recognise you're the owner. And if possible provide as much information as possible about where you lost the item (e.g. time and place). Be careful sharing personal details."></textarea>
                            <small class="form-help">Be specific about details not visible in the listing to prove ownership.</small>
                        </div>

                        <div class="form-group">
                            <label for="claim-page-date">Date of Claim</label>
                            <input type="date" id="claim-page-date" name="claimDate">
                        </div>
                        
                        <div class="form-actions">
                            <button type="button" class="btn-secondary" onclick="goBackToFoundItems()">
                                <i class="fas fa-arrow-left"></i> Back to Found Items
                            </button>
                            <button type="submit" class="submit-btn">
                                <i class="fas fa-ticket-alt"></i> Submit Claim
                            </button>
                        </div>
                    </form>
                </div>
            </section>
        </div>
    </main>


    <!-- Claim Item Modal -->
    <div id="claim-modal" class="modal">
        <div class="modal-content claim-modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-ticket-alt"></i> Claim Item</h3>
                <button class="close-btn" onclick="closeClaimModal()">&times;</button>
            </div>
            <form id="claim-item-form" class="found-form">
                <input type="hidden" id="claim-item-id" name="itemId">
                
                <div class="form-group">
                    <label>Item Details</label>
                    <div class="item-preview" id="claim-item-preview">
                        <!-- Item details will be populated here -->
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="claim-item-name">Item Name *</label>
                    <input type="text" id="claim-item-name" name="itemName" required readonly>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="claim-item-building">Building *</label>
                        <input type="text" id="claim-item-building" name="building" required readonly>
                    </div>
                    
                    <div class="form-group">
                        <label for="claim-item-room">Room</label>
                        <input type="text" id="claim-item-room" name="room" readonly>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="claim-claimer-name">Your Name *</label>
                        <input type="text" id="claim-claimer-name" name="claimerName" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="claim-claimer-email">Email *</label>
                        <input type="email" id="claim-claimer-email" name="claimerEmail" required>
                    </div>
                </div>

                <div class="form-group">
                    <label for="claim-ownership-details">Please state why this item is yours *</label>
                    <textarea id="claim-ownership-details" name="ownershipDetails" rows="4" required placeholder="Describe as much detail as possible about the item that isn't visible or described, so we can recognize you're the owner. Include specific details, colors, wear patterns, contents, etc."></textarea>
                    <small class="form-help">Be specific about details not visible in the listing to prove ownership.</small>
                </div>

                <div class="form-group">
                    <label for="claim-lost-location">Where and when did you lose this item? *</label>
                    <textarea id="claim-lost-location" name="lostLocation" rows="3" required placeholder="Provide as much information as possible about where you lost the item (e.g., time, place, circumstances). Be careful sharing personal details."></textarea>
                    <small class="form-help">Include approximate time, location, and circumstances of loss.</small>
                </div>

                <div class="form-group">
                    <label for="claim-additional-info">Additional Information</label>
                    <textarea id="claim-additional-info" name="additionalInfo" rows="3" placeholder="Any other details that might help verify your ownership (e.g., purchase location, unique features, etc.)"></textarea>
                </div>

                <div class="form-group">
                    <label for="claim-claim-date">Date of Claim</label>
                    <input type="date" id="claim-claim-date" name="claimDate">
                </div>
                
                <div class="modal-actions">
                    <button type="button" class="btn-secondary" onclick="closeClaimModal()">Cancel</button>
                    <button type="submit" class="btn-primary">Submit Claim</button>
                </div>
            </form>
        </div>
    </div>

    </div> <!-- End main-app -->
    <script src="resources/scripts/app.js"></script>
</body>
</html>

